---
title: 'image_sharpness'
description: 'Detects blurry or out-of-focus images using edge detection analysis'
---

## Overview

The `image_sharpness` detector analyzes image clarity and focus quality using edge detection algorithms. It identifies blurry, out-of-focus, or soft images that may affect visual quality and viewer experience.

**No configuration required** - This detector works with default settings.

## Configuration

This detector does not require any configuration parameters. Include it with an empty config object:

```json
{
  "detector_name": "image_sharpness",
  "config": {}
}
```

## Example Configuration

```json
{
  "detector_name": "image_sharpness",
  "config": {}
}
```

## Result Schema

```json
{
  "detector_name": "image_sharpness",
  "pass_check": true,
  "score": 0.8,
  "rationale": "Generally sharp images with minor soft focus in some frames",
  "metrics": {
    "sharpness_analysis": {
      "overall_sharpness": 0.8,
      "average_edge_density": 245.7,
      "focus_consistency": 0.85,
      "sharpness_variance": 0.12
    },
    "frame_analysis": [
      {
        "frame_index": 150,
        "timestamp": 5.0,
        "sharpness_score": 0.92,
        "edge_density": 287.3,
        "focus_quality": "excellent",
        "blur_level": "none"
      },
      {
        "frame_index": 420,
        "timestamp": 14.0,
        "sharpness_score": 0.65,
        "edge_density": 198.2,
        "focus_quality": "soft",
        "blur_level": "mild"
      },
      {
        "frame_index": 735,
        "timestamp": 24.5,
        "sharpness_score": 0.88,
        "edge_density": 265.1,
        "focus_quality": "very_good",
        "blur_level": "minimal"
      }
    ],
    "quality_distribution": {
      "excellent_frames": 45,
      "very_good_frames": 32,
      "good_frames": 18,
      "soft_frames": 8,
      "blurry_frames": 2
    },
    "technical_metrics": {
      "laplacian_variance": 1247.8,
      "sobel_edge_magnitude": 156.3,
      "gradient_magnitude": 0.82,
      "frequency_domain_analysis": 0.79
    }
  },
  "timestamps": [14.0, 51.2],
  "flagged_frames": [
    {
      "frame_index": 420,
      "issue": "soft_focus",
      "sharpness_score": 0.65
    },
    {
      "frame_index": 1536,
      "issue": "motion_blur",
      "sharpness_score": 0.42
    }
  ],
  "execution_time_sec": 3.5,
  "api_cost_usd": null
}
```

## Sharpness Analysis Methods

### Edge Detection
- **Laplacian Operator** - Second derivative edge detection
- **Sobel Filter** - Gradient-based edge detection
- **Canny Edge Detection** - Optimal edge detection algorithm
- **Roberts Cross-Gradient** - Simple edge detection

### Frequency Analysis
- **High-Frequency Content** - Detail and edge information
- **Fourier Transform** - Frequency domain analysis
- **Wavelet Analysis** - Multi-scale frequency analysis
- **Spectral Density** - Distribution of spatial frequencies

### Statistical Measures
- **Variance of Laplacian** - Standard sharpness metric
- **Gradient Magnitude** - Image gradient strength
- **Edge Density** - Number of edges per unit area
- **Contrast Analysis** - Local contrast measurements

## Sharpness Quality Levels

### Excellent (0.9-1.0)
- Crisp, well-defined edges
- High detail preservation
- Professional focus quality
- Minimal blur or softness

### Very Good (0.8-0.89)
- Good edge definition
- Clear detail visibility
- Acceptable focus quality
- Minor softness acceptable

### Good (0.7-0.79)
- Adequate sharpness
- Some edge softness
- Basic focus quality
- Moderate detail clarity

### Soft (0.5-0.69)
- Noticeable softness
- Reduced edge definition
- Below-average focus
- Limited detail clarity

### Blurry (0.0-0.49)
- Significant blur
- Poor edge definition
- Unacceptable focus
- Severely compromised detail

## Blur Types Detected

### Motion Blur
- **Camera Movement** - Shake or movement during capture
- **Subject Movement** - Fast-moving subjects
- **Tracking Issues** - Poor follow focus
- **Shutter Speed** - Too slow for movement

### Focus Problems
- **Out of Focus** - Incorrect focus point
- **Shallow Depth** - Limited depth of field
- **Focus Hunting** - Autofocus instability
- **Macro Issues** - Close-up focus problems

### Optical Issues
- **Lens Softness** - Poor lens quality
- **Diffraction** - Small aperture softness
- **Chromatic Aberration** - Color fringing effects
- **Optical Distortion** - Lens distortion effects

### Technical Artifacts
- **Compression Blur** - Video compression softness
- **Upscaling Artifacts** - Resolution upscaling issues
- **Anti-Aliasing** - Over-smoothed edges
- **Processing Artifacts** - Digital processing effects

## Quality Metrics

### Edge Density Analysis
- **High Edge Density** - Rich detail and texture
- **Medium Edge Density** - Adequate detail levels
- **Low Edge Density** - Limited texture information
- **Very Low Edge Density** - Minimal detail content

### Focus Consistency
- **Consistent Focus** - Stable focus throughout
- **Variable Focus** - Focus changes between frames
- **Focus Tracking** - Following moving subjects
- **Depth Management** - Appropriate depth of field

### Technical Measurements
- **Laplacian Variance** - Mathematical sharpness measure
- **Gradient Magnitude** - Edge strength indicator
- **Frequency Response** - Detail preservation metric
- **Contrast Ratio** - Local contrast measurement

## Use Cases

- **Quality Control** - Ensuring acceptable image sharpness
- **Technical Standards** - Meeting minimum clarity requirements
- **Content Optimization** - Identifying focus and blur issues
- **Production Feedback** - Camera and technique improvement

## Common Causes and Solutions

### Camera Issues
- **Focus Settings** - Manual vs. autofocus optimization
- **Stabilization** - Image stabilization usage
- **Lens Quality** - High-quality lens selection
- **Aperture Settings** - Optimal aperture selection

### Technical Solutions
- **Shutter Speed** - Appropriate speed for motion
- **ISO Settings** - Noise vs. sharpness balance
- **Post-Processing** - Sharpening and clarity adjustments
- **Capture Format** - RAW vs. compressed formats

## Detector Type

**HEURISTIC** - Uses image processing algorithms and edge detection for sharpness analysis