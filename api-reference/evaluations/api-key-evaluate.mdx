---
title: 'API Key Batch Evaluation'
api: 'POST /api-key/evaluations/batch'
description: 'Submit batch evaluation using API key authentication'
---

## Overview

Submits multiple content items for batch evaluation using API key authentication. This endpoint is designed for high-volume processing and programmatic access without user authentication.

## Headers

<ParamField header="X-API-Key" type="string" required>
  Organization API key for authentication
</ParamField>

## Request Body

<ParamField body="judge_id" type="string" required>
  ID of the judge to use for evaluation
</ParamField>

<ParamField body="items" type="array" required minLength="1" maxLength="100">
  List of content items to evaluate
  
  <Expandable title="item properties">
    <ParamField body="content_id" type="string">
      ID of existing content (if using uploaded content)
    </ParamField>
    
    <ParamField body="content" type="string">
      Raw content to evaluate (if not using content_id)
    </ParamField>
    
    <ParamField body="external_id" type="string">
      Your external reference ID for this item
    </ParamField>
    
    <ParamField body="metadata" type="object">
      Additional metadata for this item
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="batch_options" type="object">
  Batch processing options
  
  <Expandable title="batch options">
    <ParamField body="priority" type="string" default="normal">
      Batch processing priority (low, normal, high)
    </ParamField>
    
    <ParamField body="webhook_url" type="string">
      URL to receive completion webhook notifications
    </ParamField>
    
    <ParamField body="webhook_secret" type="string">
      Secret for webhook signature verification
    </ParamField>
    
    <ParamField body="timeout_seconds" type="integer" default="300">
      Maximum processing time per item in seconds
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="job_id" type="string" required>
  Unique identifier for the batch evaluation job
</ResponseField>

<ResponseField name="status" type="string" required>
  Initial job status
  - `queued` - Job queued for processing
  - `processing` - Job is being processed
  - `completed` - All items evaluated
  - `failed` - Job failed
  - `cancelled` - Job was cancelled
</ResponseField>

<ResponseField name="total_items" type="integer" required>
  Total number of items in the batch
</ResponseField>

<ResponseField name="processed_items" type="integer" required>
  Number of items processed so far
</ResponseField>

<ResponseField name="judge_id" type="string" required>
  ID of the judge being used
</ResponseField>

<ResponseField name="estimated_completion_time" type="datetime">
  Estimated completion time for the job
</ResponseField>

<ResponseField name="created_at" type="datetime" required>
  Job creation timestamp
</ResponseField>

<ResponseField name="webhook_url" type="string">
  Configured webhook URL (if provided)
</ResponseField>

## Examples

<CodeGroup>

```bash Request
curl -X POST https://api.getpique.ai/api-key/evaluations/batch \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_xyz789",
    "items": [
      {
        "content": "This is the first piece of content to evaluate",
        "external_id": "content_001",
        "metadata": {
          "source": "user_submission",
          "category": "feedback"
        }
      },
      {
        "content": "This is the second piece of content",
        "external_id": "content_002",
        "metadata": {
          "source": "social_media",
          "platform": "twitter"
        }
      },
      {
        "content_id": "cnt_existing123",
        "external_id": "content_003"
      }
    ],
    "batch_options": {
      "priority": "high",
      "webhook_url": "https://your-app.com/webhooks/evaluations",
      "webhook_secret": "your_webhook_secret",
      "timeout_seconds": 600
    }
  }'
```

```json Success Response (202)
{
  "job_id": "job_batch_456",
  "status": "queued",
  "total_items": 3,
  "processed_items": 0,
  "judge_id": "jdg_xyz789",
  "estimated_completion_time": "2024-01-15T10:45:00Z",
  "created_at": "2024-01-15T10:30:00Z",
  "webhook_url": "https://your-app.com/webhooks/evaluations"
}
```

</CodeGroup>

<CodeGroup>

```bash Error: Invalid API Key
curl -X POST https://api.getpique.ai/api-key/evaluations/batch \
  -H "X-API-Key: invalid_key" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_xyz789",
    "items": [{"content": "test"}]
  }'
```

```json Error Response (401)
{
  "error": {
    "code": "INVALID_API_KEY",
    "message": "Invalid or expired API key"
  }
}
```

</CodeGroup>

<CodeGroup>

```bash Error: Too Many Items
curl -X POST https://api.getpique.ai/api-key/evaluations/batch \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_xyz789",
    "items": [/* 150 items - exceeds limit */]
  }'
```

```json Error Response (400)
{
  "error": {
    "code": "BATCH_SIZE_EXCEEDED",
    "message": "Batch size exceeds maximum limit of 100 items",
    "max_items": 100,
    "provided_items": 150
  }
}
```

</CodeGroup>