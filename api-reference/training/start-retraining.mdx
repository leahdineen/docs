---
title: 'Start Retraining'
api: 'POST /retraining/runs'
description: 'Initiate automated retraining process for a judge'
---

## Overview

Initiates an automated retraining run for a judge based on accumulated feedback. This endpoint triggers the complete retraining pipeline, including feedback analysis, proposal generation, validation, and model updates.

## Request Body

<ParamField body="judge_id" type="string" required>
  ID of the judge to retrain
</ParamField>

<ParamField body="trigger_source" type="string" required>
  Source that triggered this retraining
  - `manual` - Manually triggered by user
  - `scheduled` - Triggered by scheduled automation
  - `feedback_threshold` - Triggered by feedback threshold
  - `performance_degradation` - Triggered by performance monitoring
</ParamField>

<ParamField body="since_timestamp" type="datetime">
  Only process feedback since this timestamp (ISO 8601)
</ParamField>

<ParamField body="config_overrides" type="object">
  Override default retraining configuration
  
  <Expandable title="config properties">
    <ParamField body="min_feedback_threshold" type="integer" default="10">
      Minimum feedback count required to proceed
    </ParamField>
    
    <ParamField body="approval_threshold" type="number" default="0.8">
      Required approval rate (0.0-1.0) for changes
    </ParamField>
    
    <ParamField body="max_proposed_changes" type="integer" default="5">
      Maximum number of changes to propose per criterion
    </ParamField>
    
    <ParamField body="validation_strictness" type="string" default="standard">
      Validation level (lenient, standard, strict)
    </ParamField>
    
    <ParamField body="auto_apply_approved" type="boolean" default="false">
      Automatically apply changes that meet approval threshold
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="notification_preferences" type="object">
  Notification settings for the retraining run
  
  <Expandable title="notification properties">
    <ParamField body="email_notifications" type="boolean" default="true">
      Send email notifications for major milestones
    </ParamField>
    
    <ParamField body="webhook_url" type="string">
      URL to receive webhook notifications
    </ParamField>
    
    <ParamField body="notification_levels" type="array">
      Types of events to notify about
      - `start` - Run started
      - `analysis_complete` - Feedback analysis complete
      - `proposals_ready` - Proposals generated
      - `validation_complete` - Validation complete
      - `complete` - Run finished
      - `error` - Error occurred
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="run_id" type="string" required>
  Unique identifier for the retraining run
</ResponseField>

<ResponseField name="judge_id" type="string" required>
  ID of the judge being retrained
</ResponseField>

<ResponseField name="status" type="string" required>
  Initial run status
  - `started` - Run initiated successfully
  - `analyzing_feedback` - Analyzing feedback data
  - `generating_proposals` - Creating improvement proposals
  - `validating` - Validating proposed changes
  - `applying_changes` - Applying approved changes
  - `completed` - Retraining completed
  - `failed` - Retraining failed
</ResponseField>

<ResponseField name="trigger_source" type="string" required>
  Source that triggered this retraining
</ResponseField>

<ResponseField name="feedback_summary" type="object" required>
  Summary of feedback data being processed
  
  <Expandable title="feedback summary">
    <ResponseField name="total_feedback_count" type="integer" required>
      Total feedback entries to process
    </ResponseField>
    
    <ResponseField name="approved_count" type="integer" required>
      Number of approved evaluations
    </ResponseField>
    
    <ResponseField name="rejected_count" type="integer" required>
      Number of rejected evaluations
    </ResponseField>
    
    <ResponseField name="correction_count" type="integer" required>
      Number of score corrections
    </ResponseField>
    
    <ResponseField name="date_range" type="object" required>
      Date range of feedback being processed
      
      <Expandable title="date range">
        <ResponseField name="earliest" type="datetime" required>
          Earliest feedback timestamp
        </ResponseField>
        
        <ResponseField name="latest" type="datetime" required>
          Latest feedback timestamp
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="estimated_duration" type="integer">
  Estimated duration in minutes for completion
</ResponseField>

<ResponseField name="progress_tracking" type="object" required>
  Information for tracking progress
  
  <Expandable title="progress tracking">
    <ResponseField name="progress_url" type="string">
      URL to check progress status
    </ResponseField>
    
    <ResponseField name="webhook_configured" type="boolean" required>
      Whether webhook notifications are configured
    </ResponseField>
    
    <ResponseField name="expected_milestones" type="array" required>
      Expected milestone completion times
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="created_at" type="datetime" required>
  Run creation timestamp
</ResponseField>

<ResponseField name="created_by" type="string" required>
  User ID who initiated the run
</ResponseField>

## Examples

<CodeGroup>

```bash Request: Manual Retraining
curl -X POST https://api.getpique.ai/retraining/runs \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_xyz789",
    "trigger_source": "manual",
    "since_timestamp": "2024-01-01T00:00:00Z",
    "config_overrides": {
      "min_feedback_threshold": 15,
      "approval_threshold": 0.75,
      "auto_apply_approved": true
    },
    "notification_preferences": {
      "email_notifications": true,
      "webhook_url": "https://your-app.com/webhooks/retraining",
      "notification_levels": ["start", "proposals_ready", "complete", "error"]
    }
  }'
```

```json Success Response (202)
{
  "run_id": "retrain_run_123",
  "judge_id": "jdg_xyz789",
  "status": "started",
  "trigger_source": "manual",
  "feedback_summary": {
    "total_feedback_count": 247,
    "approved_count": 189,
    "rejected_count": 23,
    "correction_count": 35,
    "date_range": {
      "earliest": "2024-01-01T00:00:00Z",
      "latest": "2024-01-15T12:30:00Z"
    }
  },
  "estimated_duration": 25,
  "progress_tracking": {
    "progress_url": "https://api.getpique.ai/retraining/runs/retrain_run_123/progress",
    "webhook_configured": true,
    "expected_milestones": [
      {"phase": "feedback_analysis", "estimated_time": "2024-01-15T12:40:00Z"},
      {"phase": "proposal_generation", "estimated_time": "2024-01-15T12:50:00Z"},
      {"phase": "validation", "estimated_time": "2024-01-15T13:00:00Z"},
      {"phase": "completion", "estimated_time": "2024-01-15T13:10:00Z"}
    ]
  },
  "created_at": "2024-01-15T12:35:00Z",
  "created_by": "user_admin123"
}
```

</CodeGroup>

<CodeGroup>

```bash Request: Threshold-Triggered Retraining
curl -X POST https://api.getpique.ai/retraining/runs \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_abc456",
    "trigger_source": "feedback_threshold",
    "config_overrides": {
      "validation_strictness": "strict"
    }
  }'
```

```json Threshold Response (202)
{
  "run_id": "retrain_run_456",
  "judge_id": "jdg_abc456",
  "status": "analyzing_feedback",
  "trigger_source": "feedback_threshold",
  "feedback_summary": {
    "total_feedback_count": 89,
    "approved_count": 67,
    "rejected_count": 15,
    "correction_count": 7,
    "date_range": {
      "earliest": "2024-01-10T00:00:00Z",
      "latest": "2024-01-15T12:35:00Z"
    }
  },
  "estimated_duration": 18,
  "progress_tracking": {
    "progress_url": "https://api.getpique.ai/retraining/runs/retrain_run_456/progress",
    "webhook_configured": false,
    "expected_milestones": [
      {"phase": "feedback_analysis", "estimated_time": "2024-01-15T12:45:00Z"},
      {"phase": "proposal_generation", "estimated_time": "2024-01-15T12:52:00Z"},
      {"phase": "validation", "estimated_time": "2024-01-15T13:00:00Z"}
    ]
  },
  "created_at": "2024-01-15T12:36:00Z",
  "created_by": "system_automation"
}
```

</CodeGroup>

<CodeGroup>

```bash Error: Insufficient Feedback
curl -X POST https://api.getpique.ai/retraining/runs \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_new001",
    "trigger_source": "manual"
  }'
```

```json Error Response (400)
{
  "error": {
    "code": "INSUFFICIENT_FEEDBACK",
    "message": "Not enough feedback data available for retraining",
    "details": {
      "available_feedback": 4,
      "minimum_required": 10,
      "judge_id": "jdg_new001",
      "suggestion": "Wait for more feedback to be collected or reduce min_feedback_threshold"
    }
  }
}
```

</CodeGroup>

<CodeGroup>

```bash Error: Retraining Already in Progress
curl -X POST https://api.getpique.ai/retraining/runs \
  -H "X-API-Key: sk_org_xxxxxxxxx" \
  -H "Content-Type: application/json" \
  -d '{
    "judge_id": "jdg_xyz789",
    "trigger_source": "manual"
  }'
```

```json Error Response (409)
{
  "error": {
    "code": "RETRAINING_IN_PROGRESS",
    "message": "Another retraining run is already in progress for this judge",
    "active_run_id": "retrain_run_123",
    "active_run_status": "generating_proposals",
    "estimated_completion": "2024-01-15T13:10:00Z",
    "suggestion": "Wait for the current run to complete or cancel it first"
  }
}
```

</CodeGroup>