---
title: 'audio_matching'
description: 'Matches audio against reference audio file'
---

## Overview

The `audio_matching` detector checks if video audio matches a reference audio file.

**Requires preprocessing** - Reference audio must be processed before evaluation can begin.

## Configuration

<ParamField body="config.reference_audio" type="string" required>
  GCS URI of reference audio file to match against
  
  **Allowed extensions:** mp3, wav, aac, flac
</ParamField>

## Example Configuration

```json
{
  "detector_name": "audio_matching",
  "config": {
    "reference_audio": "gs://judge-artifacts/org_123/reference_uploads/abc/reference_song.mp3"
  }
}
```

## Result Schema

```json
{
  "detector_name": "audio_matching",
  "pass_check": false,
  "score": 0.8,
  "rationale": "Audio fingerprint match detected with reference content",
  "metrics": {
    "fingerprint_matches": [
      {
        "confidence": 0.85,
        "start_time": 12.3,
        "duration": 15.7,
        "reference_segment": "0:30-0:45"
      }
    ],
    "total_match_duration": 15.7,
    "match_percentage": 34.2
  },
  "timestamps": [12.3],
  "flagged_frames": [],
  "execution_time_sec": 1.8,
  "api_cost_usd": null
}
```

## Interpreting Results

- **fingerprint_matches**: Array of detected audio matches with confidence scores
- **match_percentage**: Percentage of video duration that matches reference audio
- **start_time**: When the matching audio segment begins in the video
- **confidence**: Match confidence score (0.0-1.0)

## Preprocessing Required

Reference audio must be uploaded using `/v1/judges/reference_content` before use.